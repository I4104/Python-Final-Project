{% extends "admin/layouts.html" %}

{% block content %}
<div class="main-panel">
	<div class="content">
		<div class="container-fluid">
			<h4 class="page-title">Quản lý các món ăn</h4>
			<div class="row">
				<div class="col-lg-12">
					<div class="card">
						<div class="card-header">
							<h4 class="card-title">Danh sách các mặt hàng</h4>
							<p class="card-category">Chỉnh sửa thông tin mặt hàng </p>
						</div>
						<div class="card-body">
						    <button class="btn btn-outline-success w-100 mb-3" data-toggle="modal" data-target="#add_mon">Thêm món ăn mới</button>
                            <div class="table-responsive">
                            	{% if mon_an|length > 0: %}
	                            	<table class="table table-bordered text-center">
									    <thead>
									        <th>Món ăn</th>
									        <th>Giá tiền</th>
									        <th>Trạng thái</th>
									        <th>Sửa/Xóa</th>
									    </thead>
						                    <tbody>
							                    {%for row in mon_an %}
							                		<tr>
							                			<td>{{ row[1] }}</td>
							                			<td>{{ row[2] }}</td>
							                			<td>
							                				{% if row[3] > 0: %} 
							                                    <span class="badge badge-success">Còn món</span>
							                                {% else: %}
							                                    <span class="badge badge-danger">Đã hết</span>
							                                {% endif %}</p>
							                			</td>
							                			<td>
							                				<a class="btn btn-success btn-sm btn-round" href="/admin/edit/mon_an/{{ row[0] }}"><i class="fa fa-edit"></i></a>
							                				<a class="btn btn-danger btn-sm btn-round" href="/admin/delete/mon_an/{{ row[0] }}"><i class="fa fa-trash"></i></a>
							                			</td>
							                		</tr>    
							                    {% endfor %}
						                	</tbody>
						                </table>
				                {% else %}
				                    <div class="col-md-12 text-center mb-5">
				                        <h5>Hiện tại đã hết món ăn!</h5>
				                    </div>
				                {% endif %}
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="add_mon" tabindex="-1" role="dialog" aria-labelledby="add new" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <form action="/admin/mon_an" method="POST" class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Thêm món ăn mới</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
            	<div class="form-group">
            		<label>Tên món ăn</label>
            		<input type="text" name="name" class="form-control" required>
            	</div>
            	<div class="form-group">
            		<label>Giá món ăn</label>
            		<input type="number" name="price" class="form-control" required>
            	</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>

{% endblock content %}
